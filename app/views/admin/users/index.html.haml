!!!
%html{lang: "en", "data-bs-theme" => "dark"}
  %head
    %meta{charset: "UTF-8"}
    %meta{name: "viewport", content: "width=device-width, initial-scale=1"}
    %title SVXReflector Â· Admin Users
    %link{rel: "stylesheet", href: "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"}
    %link{rel: "stylesheet", href: "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"}
    :css
      body { background: #0d1117; }
      .admin-table th { font-size: .73rem; text-transform: uppercase; letter-spacing: .05em; color: #6e7681; border-color: #21262d; }
      .admin-table td { font-size: .85rem; border-color: #21262d; vertical-align: middle; }

  %body
    = render 'shared/navbar', active: 'admin'

    .container
      .d-flex.justify-content-between.align-items-center.mb-3
        %h5.text-light.mb-0
          %i.bi.bi-people.me-2
          Users
        = link_to new_admin_user_path, class: "btn btn-sm btn-primary" do
          %i.bi.bi-plus-lg.me-1
          New User

      - if flash[:notice]
        .alert.alert-success.py-2= flash[:notice]
      - if flash[:alert]
        .alert.alert-danger.py-2= flash[:alert]

      .table-responsive
        %table.table.table-dark.admin-table
          %thead
            %tr
              %th Callsign
              %th Role
              %th Created
              %th.text-end Actions
          %tbody
            - @users.each do |user|
              %tr
                %td.font-monospace.fw-bold= user.callsign
                %td
                  - if user.admin?
                    %span.badge.bg-warning.text-dark admin
                  - else
                    %span.badge.bg-secondary user
                %td.text-secondary= user.created_at.strftime("%Y-%m-%d %H:%M")
                %td.text-end
                  = link_to edit_admin_user_path(user), class: "btn btn-sm btn-outline-secondary me-1" do
                    %i.bi.bi-pencil
                  - unless user == current_user
                    = button_to admin_user_path(user), method: :delete, class: "btn btn-sm btn-outline-danger", form: { data: { turbo_confirm: "Delete #{user.callsign}?" } } do
                      %i.bi.bi-trash

    %script{src: "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"}
