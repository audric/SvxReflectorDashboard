!!!
%html{lang: "en", "data-bs-theme" => "dark"}
  %head
    %meta{charset: "UTF-8"}
    %meta{name: "viewport", content: "width=device-width, initial-scale=1"}
    %title SVXReflector · Settings
    %link{rel: "stylesheet", href: "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"}
    %link{rel: "stylesheet", href: "https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"}
    :css
      body { background: #0d1117; }

  %body
    = render 'shared/navbar', active: 'admin'

    .container
      .row.justify-content-center
        .col-md-8.col-lg-6
          - if flash[:notice]
            .alert.alert-success.py-2= flash[:notice]

          .card.bg-dark.border-secondary
            .card-header.bg-dark.border-secondary
              %h5.mb-0
                %i.bi.bi-gear.me-2
                Settings
            .card-body
              = form_with url: admin_settings_path, method: :patch, local: true do |f|
                .mb-3
                  %label.form-label.text-secondary.small Reflector Status URL
                  %input.form-control.bg-dark.text-light.border-secondary{type: "url", name: "settings[reflector_status_url]", value: @settings["reflector_status_url"], placeholder: "http://host:8080/status"}
                  %small.text-secondary The SVXReflector HTTP status endpoint polled by the updater.

                .mb-3
                  %label.form-label.text-secondary.small Brand Name
                  %input.form-control.bg-dark.text-light.border-secondary{type: "text", name: "settings[brand_name]", value: @settings["brand_name"], placeholder: "My Reflector"}
                  %small.text-secondary Display name shown in the navbar.

                .mb-3
                  %label.form-label.text-secondary.small Poll Interval (seconds)
                  %input.form-control.bg-dark.text-light.border-secondary{type: "number", name: "settings[poll_interval]", value: @settings["poll_interval"], min: 1, max: 10, step: 1}
                  %small.text-secondary How often the updater polls the reflector (1–10 seconds).

                = f.submit "Save Settings", class: "btn btn-primary"
                = link_to "Back", admin_users_path, class: "btn btn-outline-secondary ms-2"

    %script{src: "https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"}
